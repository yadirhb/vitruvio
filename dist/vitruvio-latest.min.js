(function(){var $global=this,stime=new Date().getMilliseconds();var CONFIG={GLOBAL:$global,DEBUG:false};if(!Object.create){Object.create=function(o){function F(){}F.prototype=o;return new F()}}if(!Object.setPrototypeOf){Object.setPrototypeOf=function(obj,proto){obj.__proto__=proto;return obj}}if(!Object.getPrototypeOf){if(({}).__proto__===Object.prototype&&([]).__proto__===Array.prototype){Object.getPrototypeOf=function getPrototypeOf(object){return object.__proto__}}else{Object.getPrototypeOf=function getPrototypeOf(object){return object.constructor?object.constructor.prototype:void 0}}}if(!Object.prototype.hasOwnProperty){Object.prototype.hasOwnProperty=function(prop){return prop in this&&!(prop in Object.getPrototypeOf(this))}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj,start){for(var i=(start||0),j=this.length;i<j;i++){if(this[i]===obj){return i}}return -1}}if(!Array.prototype.each){Array.prototype.each=function(func,direction){return direction!==false?each(this,func):eachReverse(this,func)}}if(!Array.prototype.remove){Array.prototype.remove=function(index){if(index>-1){this.splice(index,1)}}}if(!Function.prototype.getName){Function.prototype.getName=function(){var funcNameRegex=/function\s([^(]{1,})\(/;var results=(funcNameRegex).exec((this).toString());return(results&&results.length>1)?results[1].trim():""}}if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};if(this.prototype){fNOP.prototype=this.prototype}fBound.prototype=new fNOP();return fBound}}if(!String.prototype.contains){String.prototype.contains=function(substring){return this.indexOf(substring)>-1}}if(!String.prototype.trim){String.prototype.trim=function(){var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return this.replace(rtrim,"")}}if(!String.prototype.replaceAll){function escapeRegExp(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}String.prototype.replaceAll=function(search,replacement){var target=this;return target.replace(new RegExp(escapeRegExp(search),"g"),replacement)}}if(!$global.JSON){$global.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:(function(){var toString=Object.prototype.toString;var escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};var escFunc=function(m){return escMap[m]||"\\u"+(m.charCodeAt(0)+65536).toString(16).substr(1)};var escRE=/[\\"\u0000-\u001F\u2028\u2029]/g;return function stringify(value){if(value==null){return"null"}else{if(isNumber(value)){return isFinite(value)?value.toString():"null"}else{if(isBoolean(value)){return value.toString()}else{if(isObject(value)){if(isFunction(value.toJSON)){return stringify(value.toJSON())}else{if(isArray(value)){var res="[";for(var i=0;i<value.length;i++){res+=(i?", ":"")+stringify(value[i])}return res+"]"}else{if(toString.call(value)==="[object Object]"){var tmp=[];for(var k in value){if(value.hasOwnProperty(k)){tmp.push(stringify(k)+": "+stringify(value[k]))}}return"{"+tmp.join(", ")+"}"}}}}}}}return'"'+value.toString().replace(escRE,escFunc)+'"'}})()}}if(!Object.prototype.is){Object.prototype.is=function(type){return type&&isFunction(type)?this instanceof type:false}}if(!Object.prototype.as){Object.prototype.as=function(type){if(type){if(isFunction(type)&&this.is(type)){var args=Array.prototype.concat([null],arguments[1]||this.constructor.arguments);var $type=new (Function.prototype.bind.apply(type,args));var context=this,proto=Object.getPrototypeOf(type.prototype);if(type.is(Interface)){var patch={};for(var m in $type){if(isFunction($type[m])&&((m in $type)&&!(m in proto))){if(!m.contains("$")){eval("patch['"+m+"'] = function ("+getSignature(context[m])+") { return context['"+m+"'].apply(context, arguments);}")}}}return apply($type,patch)}return supersede($type,this)}else{if(isObject(type)){return supersede(apply(new type.constructor,type),this)}}}}}function isBrowser(){return typeof(window)!="undefined"}function isNode(){return typeof(process)!="undefined"}function isCordova(){return isBrowser()&&userAgent.isMobile()&&document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1}function isMobile(){return isCordova()}function isDesktop(){return isNode()}var userAgent;if(isBrowser()){userAgent={isBlobSupported:function(){return"Blob" in $global},IE:{getVersion:function(){var match=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return match?parseFloat(match[1]):-1},isOldVersion:function(){var v=this.getVersion();return v!=-1&&v<=9}},isIE:function(){if("navigator" in $global){var ua=$global.navigator.userAgent;var newIe=ua.indexOf("Trident/");return((newIe>-1))}},isEdge:function(){return !this.isIE()&&!!window.StyleMedia},isAudioSupported:function(){try{if(typeof document.createElement("audio").play!="undefined"){return true}}catch(ex){return false}},isAndroid:function(){if("navigator" in $global){return navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Mozilla/5.0")>-1&&navigator.userAgent.indexOf("AppleWebKit")>-1}return false},isBlackBerry:function(){if("navigator" in $global){return navigator.userAgent.match(/BlackBerry/i)}return false},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},isiOS:function(){if("navigator" in $global){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}return false},isOpera:function(){if("navigator" in $global){return navigator.userAgent.match(/Opera Mini/i)}return false},isWindowsPhone:function(){if("navigator" in $global){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)}},isFirefox:function(){return typeof InstallTrigger!=="undefined"},isChrome:function(){return !!window.chrome&&!!window.chrome.webstore},isMobile:function(){return(this.isAndroid()||this.isBlackBerry()||this.isiOS()||this.isOpera()||this.isWindowsPhone()||false)},isBlink:function(){return(this.isChrome()||this.isOpera())&&!!window.CSS},isAOSPBrowser:function(){if("navigator" in $global){var navU=navigator.userAgent;var regExAppleWebKit=new RegExp(/AppleWebKit\/([\d.]+)/);var resultAppleWebKitRegEx=regExAppleWebKit.exec(navU);var appleWebKitVersion=(resultAppleWebKitRegEx===null?null:parseFloat(regExAppleWebKit.exec(navU)[1]));return this.isAndroid()&&appleWebKitVersion!==null&&appleWebKitVersion<537}return false}}}function Exception(){if(arguments.length>0){if(this.is(Exception)){var context=this,message=arguments[0],name=arguments[1]?arguments[1]:name=arguments[1]?arguments[1]:"getClass" in context?context.getClass().getName():"Exception",err=Error.apply(this,arguments);this.name=err.name=name;this.message=message=err.message;if(err.stack){if(isBrowser()&&userAgent.isFirefox()){this.stack=err.stack.substring(err.stack.indexOf("\n")+1)}else{if(isNode()||(isBrowser()&&userAgent.isChrome())){this.stack=err.stack.replace(/\n[^\n]*/,"")}else{this.stack=err.stack}}}return this}}}Exception.prototype=Error.prototype;function defaultOnError(err){throw err}var op=Object.prototype,ostring=op.toString;function isArray(it){return getClassName(it)==="Array"}function isBoolean(it){return typeof it==="boolean"}function isBooleanValue(it){/^(?:true|false)$/i.test(it)}function isFloat(it){return isNumber(it)&&it===parseFloat(it.toString())}function isFunction(it){return getClassName(it)==="Function"}function isInteger(it){return isNumber(it)&&it===parseInt(it.toString())}function isObject(it){return typeof it==="object"}function isNull(it){return it===null}function isNullValue(it){return/^\s*$/.test(it)}function isNumber(it){return typeof it==="number"}function isString(it){return typeof it==="string"}function isEmpty(obj){if(obj==null){return true}if("undefined"!==Object.keys){return(0===Object.keys(obj).length)}else{for(var key in obj){if(obj.hasOwnProperty(key)){return false}}return true}}function is(obj,type){try{return obj.is(type)}catch(e){return obj instanceof type}}function getClassName(obj){if(typeof obj==="undefined"){return"undefined"}if(obj===null){return"null"}return ostring.call(obj).match(/^\[object\s(.*)\]$/)[1]}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return Object.hasOwnProperty.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function freeze(it){return Object.freeze?Object.freeze(it):it}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function supersede(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}supersede(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function alias(name,scope){scope=scope||this;return function aliasClosure(){return scope[name].apply(scope,arguments)}}function bind(scope,fn){return function(){return fn.apply(scope,arguments)}}function addListener(evt,listener,scope){scope=scope||this;var listeners=getListenersAsObject.call(scope,evt);var listenerIsWrapped=typeof listener==="object";var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false})}}return scope}function defineEvent(evt,scope){scope=scope||this;getListeners.call(scope,evt);return scope}function emitEvent(evt,args,scope){scope=scope||this;var listenersMap=getListenersAsObject.call(scope,evt);var listeners;var listener;var i;var key;var response;for(key in listenersMap){if(listenersMap.hasOwnProperty(key)){listeners=listenersMap[key].slice(0);i=listeners.length;while(i--){listener=listeners[i];if(listener&&listener.listener){if(listener.once===true){removeListener.call(scope,evt,listener.listener)}response=listener.listener.apply(this,args||[]);if(response===getOnceReturnValue.call(scope)){removeListener.call(scope,evt,listener.listener)}}}}}return scope}function getEvents(scope){scope=scope||this;return scope._events||(scope._events={})}function getOnceReturnValue(scope){scope=scope||this;if(scope.hasOwnProperty("_onceReturnValue")){return scope._onceReturnValue}else{return true}}function getListeners(evt,scope){scope=scope||this;var events=getEvents.call(scope);var response;var key;if(evt instanceof RegExp){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response}function getListenersAsObject(evt,scope){scope=scope||this;var listeners=getListeners.call(scope,evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners}function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i}}return -1}function removeEvent(evt,scope){scope=scope||this;var type=typeof evt;var events=getEvents.call(scope);var key;if(type==="string"){delete events[evt]}else{if(evt instanceof RegExp){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete scope._events}}return scope}function removeListener(evt,listener,scope){scope=scope||this;var listeners=getListenersAsObject.call(scope,evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1)}}}return scope}function scripts(){return document.getElementsByTagName("script")}function getGlobal(value,separator){separator=separator||".";if(!value){return value}var g=global;each(value.split(separator),function(part){g=g[part]});return g}function apply(){if(arguments.length>1&&arguments[0]!=null){for(var i=1;i<arguments.length;i++){for(var propName in arguments[i]){var source=arguments[i];if(source.hasOwnProperty(propName)){try{arguments[0][propName]=source[propName]}catch(e){}}}}}return arguments[0]}function getSignature(func){if(func&&isFunction(func)){var args=func.toString().match(/function\s.*?\(([^)]*)\)/)[1];return args.split(",").map(function(arg){return arg.replace(/\/\*.*\*\//,"").trim()}).filter(function(arg){return arg})}return""}function create(type,def,base){type.prototype=base?typeof base==="function"?new base():base:new Class();return apply(new type(),def)}function define(type,baseClass,members,statics){type.prototype=baseClass?typeof baseClass==="function"?new baseClass():baseClass:new Class();type.prototype.constructor=type;type.prototype=apply(type.prototype,members||{});return apply(type,statics||{})}var $root="System",System=$global[$root]||{"$global":$global},$original=$global[$root];var packageRegex="[a-z_A-Z]\\w+(?:\\.@?[a-z_A-Z]\\w+)*";var validIdientifierRegex=new RegExp("^@?"+packageRegex+"$");var urlExp=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;function Type(){if(this.is(Type)){var $type=arguments[0];this.getType=function(){return $type};return this}}function DynamicContainer(prev,current){if(this.is(DynamicContainer)){var context=this;this.updateCurrent=function(curr){prev=current;current=curr;return context};this.getCurrent=function(){return current};this.getPrev=function(){return prev};return this}}function Member(){if(is(this,Member)){var context=this,name=arguments[0],container=arguments[1],$type=arguments[2];Type.call(this,$type||Member);this.getName=function(){return name};this.getContext=function(){return context};this.getParent=function(){var cont=container;if(cont&&!is(cont,Member)){cont=new OutsiderContainer(cont)}return cont};this.getContainer=function(){var cont=this.getParent();if(cont){if(is(cont,DynamicContainer)){cont=cont.getCurrent()}else{if(is(cont,OutsiderContainer)){cont=cont.getContext()}}}return cont};this.getFullPath=function(){var path="";var cont=this.getContainer();while(cont&&is(cont,Member)&&!is(cont,OutsiderContainer)){path=cont.getName()+"."+path;cont=cont.getContainer()}return path+this.getName()};return this}}define(Member,Type,{getMember:function(member){return this.getContext()[member]},hasMember:function(member){return this.getMember(member)!=undefined},addMember:function(member){if(member.is(Member)){return this.getContext()[member.getName()]=Member.updateParent(member,this)}throw new System.exception.InvalidTypeException("The supplied object must be a  instance")},removeMember:function(member){if(member.is(Member)){var m=this.getContext()[member.getName()];if(m){try{delete this.getContext()[member.getName()]}catch(error){this.getContext()[member.getName()]=undefined}return Member.updateParent(m)}}throw new System.exception.InvalidArgumentsException("The supplied object must be a Member instance")}},{BuilderTemp:function BuilderTemp(){if(this.is(Member.BuilderTemp)){this.onBuild=function(){}}},updateParent:function(member,current){if(member.is(Member)){var container=member.getContainer(),parent=typeof(container)=="undefined"||!container.is(DynamicContainer)?new DynamicContainer(container,current):container.updateCurrent(current);member.getParent=function(){return parent};return member}throw new System.exception.InvalidArgumentsException("The supplied object must be a Member instance")},register:function(member){if(member.is(Member)){return Loader.register(member.getFullPath(),member)}throw new System.exception.InvalidArgumentsException("The supplied object must be a Member instance")}});function OutsiderContainer(){if(this.is(OutsiderContainer)){var self=arguments[0];Member.call(this,"");this.getContext=function(){return self}}}define(OutsiderContainer,Member);function Namespace(){if(arguments.length>0){var config={},cfx=arguments[0];if(cfx!=null&&cfx!=undefined){if(isString(cfx)){config["$name"]=cfx}else{if(isObject(cfx)){config=cfx}else{throw new System.exception.InvalidTypeException("The first argument must be either a [String/Object], but "+getClassName(cfx)+" was supplied instead")}}if(!(validIdientifierRegex.test(config.$name))){throw new Exception("Invalid namespace identifier: '"+config.$name+"'","InvalidIdentifierException")}var container=config.$container||(CONFIG.GLOBAL||$global);if(is(this,Namespace)){if(arguments.length<=2){container=arguments[1]||container;var wrapper=Namespace.getLastNode(container,config.$name),name=config.$name.replace(wrapper.name,"");var extract=new RegExp("^.*?("+packageRegex+")","gm").exec(name);name=extract?extract[1]:name;container=wrapper.container;if(name!=""){var nsparts=name.split(".");do{name=nsparts.shift();if(nsparts.length==0){break}container=container[name]=new Namespace(name,container)}while(nsparts.length>0);Member.call(this,name,container,Namespace);this.addMember=function(member){return Member.register(Member.prototype.addMember.call(this,member))};return container[name]=this}return container}throw new System.exception.InvalidArgumentsException("Invalid arguments number, expected no more than 2.")}else{var ns;if(!Namespace.contains(container,config.$name)){ns=new Namespace(config.$name,container)}else{var node=Namespace.getLastNode(container,config.$name);if(node&&("container" in node)){ns=node.container}}if(ns){function updateContainer(member,ns){if(member&&member.is(Member)){Loader.unregister(member.getFullPath());var cont=member.getContainer();if(cont&&cont.is(Member)){cont.removeMember(member)}ns.addMember(member)}}Array.prototype.slice.call(arguments,1,arguments.length).each(function(arg){if(arg&&arg.is(Member.BuilderTemp)){arg.onBuild=function(member){updateContainer(member,ns)}}else{updateContainer(arg,ns)}})}return ns}}}throw new System.exception.InvalidArgumentsException("The first argument must be specified")}define(Namespace,Member,undefined,{contains:function(container,ns){return Namespace.getLastNode(container,ns)["name"]==ns},getLastNode:function(container,ns){if(!(ns&&typeof ns==="string")||!(container&&typeof container==="object"||typeof container==="function")){throw new System.exception.InvalidArgumentsException("Expected types (String, [Object | Function]) to search into namespace.")}if(!(validIdientifierRegex.test(ns))){throw new Exception("Invalid  namespace: '"+ns+"'","InvalidClassNameException")}var nsparts=ns.split("."),result={name:"",container:container},first=true;while(nsparts.length>0){var node=nsparts.shift();if(node in container&&container[node]){result.container=container=container[node];result.name+=first?node:"."+node}else{break}first=false}return result}});function Loader(){}var map={};function DependencyRequest(name,module){if(this.is(DependencyRequest)){this.module=module;this.name=name;this.loaded=false;this.isSuccess=function(){return module&&!is(module,Error)}}}var extractorRegex=new RegExp("^:([a-z][a-z_-]*)+:{0,1}("+packageRegex+")*$","gm");define(Loader,Function,undefined,{isAutoLoadDisabled:true,loaders:{values:{values:[]}},using:function(dependency,callback){if(dependency){dependency=dependency.is(String)?[dependency]:dependency;var requests=[],unresolved=[],caller=arguments.callee.caller,async=false;dependency.each(function(dep,i){var pkg,extract=extractorRegex.exec(dep);if(extract){pkg=extract[1];if(extract[2]){dependency[i]=dep=extract[2]}else{dependency.remove(i)}}else{if(!urlExp.test(dep)&&!validIdientifierRegex.test(dep)){throw new System.exception.RuntimeException("Invalid dependency provided to load, was '"+dep+"'")}}if(pkg){unresolved.push({member:dep,pkg:pkg})}else{if(dep in map){if(requests.indexOf(map[dep])==-1){requests[i]=map[dep]}}else{if(unresolved.indexOf(dep)==-1){unresolved.push(dep)}}}});if(unresolved.length>0){if(callback&&isFunction(callback)){async=true;Loader.observe(dependency,function onObserve(){if(isString(dependency)){if(requests.indexOf(map[dependency])==-1){requests.push(map[dependency])}}else{if(isArray(dependency)){dependency.each(function(dep,i){if(requests.indexOf(map[dep])==-1){requests[i]=map[dep]}})}}try{return callback.apply(caller,requests)}catch(e){throw new System.exception.RuntimeException("Execution failed during callback "+(e?"because of: <"+e.message+">":""))}})}function identify(mods){if(mods){if(mods.is(Array)){mods.each(function(module){identify(module)})}else{if(mods.isSuccess()){var classpath=mods.name,module=mods.module,member;if(mods.loaded){member=module;Loader.notify(classpath)}if(classpath in map){member=map[classpath]}if(requests.indexOf(map[classpath])==-1){requests[dependency.indexOf(classpath)]=member}}}}return}function onload(modules){return identify(modules)}var modules=Loader.load(unresolved,onload,async);identify(modules)}return dependency.length==1&&requests.length==1?requests[0]:undefined}},load:function load(deps,callback,async){if(!Loader.isAutoLoadDisabled){var info=Environment.getInfo(),loader;loader=Loader.getLoader(info)||Loader.getSystemLoader();return loader?loader.load(deps,callback,async):undefined}},observers:{add:function add(index,observer){if(!(index in this)){this[index]=[]}if(this[index].indexOf(observer)==-1){this[index].push(observer)}return observer},remove:function(index){var dep=this[index];if(dep){try{delete this[index]}catch(e){this[index]=undefined}return dep}}},DependencyObserver:function DependencyObserver(dependency,callback){if(dependency&&isFunction(callback)){if(is(this,Loader.DependencyObserver)){var context=this,deps=[],loadedDeps=[];this.onLoaded=function(loaded,object){var i=deps.indexOf(loaded);if(i!=-1){deps.remove(i);loadedDeps[i+1]=object}if(deps.length==0){callback.apply(callback,loadedDeps)}};function fillDependency(dep){if(!map[dep]){deps.push(dep)}return Loader.observers.add(dep,context)}if(isString(dependency)){fillDependency(dependency)}else{if(isArray(dependency)){each(dependency,function(dep){fillDependency(dep)});return this}}}}},observe:function(dependency,callback){if(dependency&&callback&&isFunction(callback)){return new Loader.DependencyObserver(dependency,callback)}throw new System.exception.InvalidArgumentsException("Invalid arguments supplied, expected (String/String[], Function)")},notify:function(dependency){if(dependency&&isString(dependency)){var observers=Loader.observers.remove(dependency);each(observers,function(observer){if(observer.is(Loader.DependencyObserver)){observer.onLoaded(dependency,map[dependency])}});return}throw new System.exception.InvalidArgumentsException("Invalid arguments supplied, expected (String)")},register:function(classPath,object){if(classPath&&isString(classPath)&&object&&(isObject(object)||isFunction(object))){var target=map[classPath]=object;Loader.notify(classPath);return target}throw new System.exception.InvalidArgumentsException("Invalid arguments supplied, expected (String, Object/Function)")},unregister:function(classPath){if(classPath&&isString(classPath)){var target=map[classPath];try{delete map[classPath]}catch(e){map[classPath]=undefined}return target}throw new System.exception.InvalidArgumentsException("Invalid arguments supplied, expected (String, Object/Function)")},disableAutoLoad:function(disable){Loader.isAutoLoadDisabled=disable===true},getLoader:function(descriptor){if(descriptor&&isObject(descriptor)){var loader=Loader.loaders[descriptor.environment];if(loader){loader=(loader[descriptor.client]||loader.values)}else{loader=Loader.loaders.values}return loader[descriptor.index||0]}},getSystemLoader:function(){if(!Loader.$sysloader){Loader.$sysloader=new System.runtime.Loader()}return Loader.$sysloader},setLoader:function(loader){if(loader&&loader.is(System.runtime.Loader)){var env=loader.environment?loader.environment.is(Array)?loader.environment:[loader.environment]:["values"],client=loader.client?loader.client.is(Array)?loader.client:[loader.client]:["values"];env.each(function(environment){if(!Loader.loaders[environment]){Loader.loaders[environment]={values:[]}}client.each(function(cl){if(!Loader.loaders[environment][cl]){Loader.loaders[environment][cl]=[]}Loader.loaders[environment][cl].push(loader)})});return}throw new System.exception.InvalidArgumentsException("Invalid arguments supplied, loader object expected to be instanceof '"+$root+".runtime.Loader' class.")}});var clsMembers={getAllMethods:function(){var methods=[];var $super=this;while($super=$super.$superclass){$super.getAllMethods().each(function(method){methods.push(method)})}this.getDeclaredMethods().each(function(method){methods.push(method)});return methods},getDeclaredMethods:function(){var methods=[],def=this["prototype"]["$def"];if(def){for(var m in def){if(hasProp(def,m)&&typeof def[m]=="function"){methods.push(new System.reflection.Method(m,def[m]))}}}return methods},is:function(type){return is(this.getContext(),type)}};function Class(){var classpath=arguments[0],definition=arguments[1],def=apply({},definition);if(is(this,Class)){if(arguments.callee.caller==Class){var context=this,$super,constructor,$ifaces=[],CustomType;eval("CustomType = function "+classpath+"(/*[Class]*/){ return this; }");if("constructor" in def&&hasProp(def,"constructor")){constructor=def.constructor;delete def.constructor}if("$extends" in def){switch(typeof def["$extends"]){case"string":def["$extends"]=Loader.using(def["$extends"]);if(!def["$extends"]||!isFunction(def["$extends"])){throw new Exception("The super class definition was unresolved","UnresolvedSuperClassException")}case"function":$super=def["$extends"];delete def["$extends"];break;default:throw new System.exception.InvalidSuperClassException(Object.getPrototypeOf(def["$extends"])["constructor"]["name"])}if(constructor==undefined){constructor=$super}}if(constructor==undefined){constructor=CustomType}var $class=(function($super){var func;function construct(){if($super){this.$super=$super}constructor.apply(this,arguments);if(isFunction($super)){this.$super=this.as($super)}return this}eval("func = function "+classpath+"(/*[Class]*/){ construct.apply(this, arguments); }");return func})($super);var cleanDef=removeKeyWords(def);if($super){define($class,new (define(CustomType,$super.prototype))(),undefined,{"$superclass":$super})}if("$implements" in def){function collectIfaces(iface){if(isString(iface)){var name=iface;iface=Loader.using(iface);if(!iface){throw new Exception("Interface definition unresolved","UnresolvedInterfaceException")}}if(isFunction(iface)){$ifaces.push(new iface)}else{throw new System.exception.InvalidSuperClassException(Object.getPrototypeOf(iface)["constructor"]["name"])}}if(isArray(def["$implements"])){each(def["$implements"],function(iface){collectIfaces(iface)})}else{collectIfaces(def["$implements"])}delete def["$implements"]}Member.call(this,classpath,undefined,Class);this.getInterfaces=function(){return $ifaces};$class=apply($class,this,clsMembers);apply($class.prototype,mixin(cleanDef,{getClass:function(){return $class},"$def":cleanDef,"$proto":$class.prototype,is:function(type){var _isIt=false;if(isFunction(type)){if(is(this,type)){return true}else{if($ifaces.length>0){$ifaces.each(function(iface){if(iface.is(type)){return _isIt=true}})}}}return _isIt}}));if($ifaces.length>0){System.Interface.ensureImplements.apply($class,[$class].concat($ifaces))}return $class}}else{if(arguments.length==2){if(classpath&&isString(classpath)&&definition&&isObject(definition)){var ns=new Namespace(classpath,def["$container"]),name=ns.getName(),container=ns.getParent(),$static=def.$static;delete def["$static"];delete def["$container"];try{var $class=apply(new Class(name,def),$static);return Member.register(container.addMember($class))}catch(e){var unresolved=[];switch(e.name){case"UnresolvedSuperClassException":case"UnresolvedInterfaceException":if("$extends" in definition){unresolved.push(definition["$extends"])}if("$implements" in definition){if(isString(definition["$implements"])){unresolved.push(definition["$implements"])}else{if(isArray(definition["$implements"])){unresolved=unresolved.concat(definition["$implements"])}}}var builderTemp=new Member.BuilderTemp(name,e);Loader.observe(unresolved,function(error){if(!error){var cls=Class(classpath,definition);return builderTemp.onBuild(cls)}});return builderTemp;default:throw e}}}throw new System.exception.InvalidArgumentsException("Invalid arguments provided, expected (String, Object).")}throw new System.exception.InvalidArgumentsException("Invalid arguments number, expected exactly 2.")}throw new System.exception.IllegalCallException("Cannot explicitly create Class instances.")}define(Class,Member);function removeKeyWords(obj){if(obj){var res={};for(var p in obj){if(hasProp(obj,p)&&!p.contains("$")){res[p]=obj[p]}}return res}}var Static={Class:function(){var args=arguments[1],def={};if(args&&isObject(args)&&hasProp(args,"constructor")){def.constructor=args.constructor;try{delete args.constructor}catch(e){args.constructor=undefined}}return Class(arguments[0],apply(def,{"$static":removeKeyWords(args)}))}};System=new Namespace($root,{});System.$global=$global;System.isArray=isArray;System.isFunction=isFunction;System.isObject=isObject;System.isBoolean=isBoolean;System.isNumber=isNumber;System.isString=isString;System.isInteger=isInteger;System.isFloat=isFloat;System.isNull=isNull;System.getClassName=getClassName;System.using=Loader.using;System.hasProp=hasProp;System.getOwn=getOwn;System.freeze=freeze;System.alias=alias;System.bind=bind;System.apply=apply;System.mixin=mixin;System.setGlobal=function(){return CONFIG.GLOBAL=arguments[0]||CONFIG.GLOBAL};System.enableDebug=function(){CONFIG.DEBUG=true===arguments[0]};System.disableAutoLoad=function(enable){Loader.disableAutoLoad.apply(this,arguments)};System.isAutoLoadDisabled=function(){return Loader.isAutoLoadDisabled};System.setLoader=function(loader){return Loader.setLoader.apply(this,arguments)};System.config=function configure(config){var cfg=arguments[0],message="The supplied configuration is not what expected.";if(cfg){if(cfg.is(Function)){try{cfg=cfg()||{}}catch(e){message=e.message}}if(isObject(cfg)){System.disableAutoLoad(cfg.disableAutoLoad||System.isAutoLoadDisabled());System.enableDebug(cfg.enableDebug||CONFIG.DEBUG);System.setGlobal(cfg.global||CONFIG.GLOBAL);if(cfg.loader){if(cfg.loader.is(Array)){cfg.loader.each(function(loader){System.setLoader(loader)})}else{System.setLoader(cfg.loader)}}if(cfg.sourcesSet){if(cfg.sourcesSet.is(Array)){System.Router.sourcesSet=cfg.sourcesSet}else{if(cfg.sourcesSet.is(String)){System.Router.sourcesSet.push(cfg.sourcesSet)}}}return}else{if(cfg.is(Array)){cfg.each(function(configuration){configure(configuration)});return}}}throw new Exception(message,"InvalidConfigurationException")};System.getMap=function(){return map};Loader.register($root+".Static",Static);Loader.register($root+".reflection.Type",Type);Loader.register($root+".reflection.Member",Member);Loader.register($root+".Class",Class);Loader.register($root+".Namespace",Namespace);System.setGlobal(System);var xt=new Namespace($root,{});var Environment=Static.Class("Environment",{isBrowser:isBrowser,isDesktop:isDesktop,isMobile:isMobile,isNode:isNode,getInfo:function(){return !this.prototype.info?this.prototype.info={environment:this.getEnvironment(),client:this.getClient()}:this.prototype.info},getPlatform:function(){if(!this.prototype.platform){this.prototype.platform=this.isBrowser()?"browser":this.isNode()?"desktop":undefined}return this.prototype.platform},getEnvironment:function(){if(!this.prototype.env){if(this.isBrowser()){this.prototype.env="browser"}else{if(this.isDesktop()){this.prototype.env="desktop"}else{if(this.isMobile()){this.prototype.env="mobile"}}}}return this.prototype.env},getClient:function(){if(!this.prototype.client){if(this.isBrowser()){var userAgent=System.utils.UserAgent;if(userAgent.isChrome()){this.prototype.client="chrome"}else{if(userAgent.isFirefox()){this.prototype.client="firefox"}else{if(userAgent.isSafari()){this.prototype.client="safari"}else{if(userAgent.isOpera()){this.prototype.client="opera"}else{if(userAgent.isIE()){this.prototype.client="ie"}else{if(userAgent.isEdge()){this.prototype.client="edge"}else{if(userAgent.isBlink()){this.prototype.client="blink"}}}}}}}}else{if(this.isNode()){this.prototype.client="node"}}}return this.prototype.client}});Class("EventEmitter",{getListeners:function(evt){return getListeners.apply(this,arguments)},flattenListeners:function(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener)}return flatListeners},getListenersAsObject:function(evt){return getListenersAsObject.apply(this,arguments)},addListener:function(evt,listener){return addListener.apply(this,arguments)},on:function(){return addListener.apply(this,arguments)},addOnceListener:function(evt,listener){return this.addListener(evt,{listener:listener,once:true})},once:function(){return this["addOnceListener"].apply(this,arguments)},defineEvent:function(evt){return defineEvent.apply(this,arguments)},defineEvents:function(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this},removeListener:function(evt,listener){return removeListener.apply(this,arguments)},off:function(){return removeListener.apply(this,arguments)},addListeners:function(evt,listeners){return this.manipulateListeners(false,evt,listeners)},removeListeners:function(evt,listeners){return this.manipulateListeners(true,evt,listeners)},manipulateListeners:function(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==="function"){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this},removeEvent:function(evt){return removeEvent.apply(this,arguments)},removeAllListeners:function(){return removeEvent.apply(this,arguments)},emitEvent:function(evt,args){return emitEvent.apply(this,arguments)},trigger:function(){return emitEvent.apply(this,arguments)},emit:function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},setOnceReturnValue:function(value){this._onceReturnValue=value;return this}});Static.Class("EventManager",{addEventListener:function(target,eventName,listener,useCapture){var ver=System.utils.UserAgent.IE.getVersion();if(is(target,System.EventEmitter)){target.on(eventName,listener,useCapture)}else{if((ver!=-1&&ver<=8)||is(target,Element)){if(ver!=-1&&ver<11){target.attachEvent("on"+eventName,listener,useCapture)}else{target.addEventListener(eventName,listener,useCapture)}}}return target},removeEventListener:function(target,eventName,listener){var ver=System.utils.UserAgent.IE.getVersion();if(is(target,System.EventEmitter)){target.off(eventName,listener)}else{if((ver!=-1&&ver<=8)||is(target,Element)){if(ver!=-1&&ver<11){target.detachEvent("on"+eventName,listener)}else{target.removeEventListener(eventName,listener)}}}return target}});Class("Exception",{"$extends":Error,constructor:Exception,toString:function(){return"["+this.name+"] : "+this.message}});Class("runtime.Loader",{constructor:function(config){apply(this,config)},defineClass:function(name,body){},defineNamespace:function(name){},find:function(name){return map[name]},load:function load(deps,callback,async){async=async||(true===async);try{if(Environment.isBrowser()){return System.runtime.BrowserLoader.load.call(this,deps,callback,async)}else{if(Environment.isNode()){return System.runtime.NodeLoader.load.call(this,deps,callback,async)}}}catch(e){return new DependencyRequest(deps,e)}},cancelLoad:function(dependency,callback,force){}});var path_module;if(Environment.isNode()){path_module=require("path")}Static.Class("Router",{sourcesSet:["src/"],getBaseDir:function(){if(!System.Router.baseDir){if(Environment.isNode()){return path_module.normalize(path_module.resolve(__dirname+"/../../../"))}else{if(Environment.isBrowser()){return"./"}}}return System.Router.baseDir},relativize:function(relDir,base){base=base||this.getBaseDir();if(Environment.isNode()){return path_module.normalize(path_module.resolve(base+relDir))}},getSourcesSet:function(){return System.Router.sourcesSet}});if(Environment.isBrowser()){Class("dom.BaseElement",{append:function(){var self=this;if(this instanceof Element){each(arguments,function(child){if(child instanceof Element){self.appendChild(child)}})}return this},bind:function(eventType,listener){return System.EventManager.addEventListener(this,eventType,listener)},css:function(prop,value){if(System.isString(prop)&&this instanceof Element){this.style[prop]=value}else{if(System.isObject(prop)&&!System.isFunction(prop)){System.apply(this.style,prop)}}return this},unbind:function(eventType,listener){return System.EventManager.removeEventListener(this,eventType,listener)},hide:function(){if(this instanceof Element){this.style.visibility="hidden"}},show:function(){if(this instanceof Element){this.style.visibility="visible"}},remove:function(){if(this instanceof Element){return this.parentNode.removeChild(this)}}})}if(Environment.isBrowser()){Static.Class("dom.Browser",{scrollTop:function(){var doc=document.documentElement;return($global.pageYOffset||doc.scrollTop)-(doc.clientTop||0)},scrollLeft:function(){var doc=document.documentElement;return($global.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0)}})}if(Environment.isBrowser()){Static.Class("dom.DOMManager",{apply:function(target){return System.mixin(target,Object.getPrototypeOf(new System.dom.BaseElement))},getScripts:function(){return scripts()}});System.$=System.dom.DOMManager.apply}Class("exception.IllegalCallException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Default exception if a function was called while the object is not in a valid state for that function.")}});Class("exception.InvalidArgumentsException",{"$extends":"System.Exception",constructor:function(message){this.$super(message)}});Class("exception.InvalidInterfaceException",{"$extends":"System.Exception",constructor:function(name){this.$super("Unknown interface"+(name?"named: "+name:""))}});Class("exception.InvalidStateException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Default exception if a function was called while the object is not in a valid state for that function.")}});Class("exception.InvalidSuperClassException",{"$extends":"System.Exception",constructor:function(name){this.$super("Invalid super class type"+(name?", cannot be an instance of: "+name:""))}});Class("exception.InvalidTypeException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Default exception if a function was called while the object is not in a valid state for that function.")}});Class("exception.RuntimeException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Execution failed")}});Class("exception.TimeoutException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Operation timeout.")}});if(Environment.isBrowser()){Class("exception.UnsupportedCORSException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Your browser doesn't support CORS connections.")}})}if(Environment.isBrowser()){Class("exception.UnsupportedWebSocketException",{"$extends":"System.Exception",constructor:function(message){this.$super(message||"Your browser doesn't support WebSocket connections.")}})}if(Environment.isBrowser()){Class("network.AjaxClient",{"$extends":"System.network.BaseClient","$static":{getURLSchema:function(secure){return(secure?"https://":"http://")}},constructor:function(config){this.$super(config.url,config.protocol);var self=this;var xhr=(function(){var userAgent=System.utils.UserAgent;if(userAgent.isIE()&&userAgent.IE.getVersion()==8||userAgent.IE.getVersion()==9){return new XDomainRequest()}else{if($global.XMLHttpRequest){return new XMLHttpRequest()}else{return}}})();try{xhr.open(config.method||"POST",this.url,true);self.trigger("open")}catch(e){xhr=undefined}if(!xhr){throw new System.exception.UnsupportedCORSException()}xhr.timeout=config.timeout;if(config.responseType==="binary"){if("responseType" in xhr){xhr.responseType="arraybuffer"}else{if("overrideMimeType" in xhr){xhr.overrideMimeType("text/plain; charset=x-user-defined")}}}xhr.onerror=function(e){self.trigger("error",[e||new System.Exception("Unknown error.")])};xhr.ontimeout=function(){self.trigger("error",[new System.exception.TimeoutException()])};var notified=false;function notifyResponse(e){if(!notified){if(!("response" in this)){try{this.response=this.responseText}catch(e){}}self.trigger("message",[mixin(e,{data:this.response})]);notified=true}}xhr.onreadystatechange=function readystatechange(e){if(this.readyState==4&&this.status==200){notifyResponse.call(this,e)}};xhr.onload=function(e){notifyResponse.call(this,e)};xhr.onabort=function(e){self.trigger("close",[mixin(e,{code:this.code,reason:this.reason})])};this.agent=xhr},getReadyState:function(){return this.agent?this.agent.readyState:0},send:function(data){try{if(this.agent){this.agent.send(data);return}}catch(e){}throw new System.exception.InvalidStateException("Cannot perform send while the connection is not open.")},close:function(code,reason){try{if(this.agent){this.agent.code=code;this.agent.reason=reason;this.agent.abort();return}}catch(e){}throw new System.exception.InvalidStateException("Cannot perform close while the connection is not open.")}})}Class("network.BaseClient",{"$extends":"System.EventEmitter",constructor:function(url,protocol){this.url=url;this.protocol=protocol;this.defineEvents(["open","message","error","close"])},getReadyState:function(){throw new System.Exception("Implement this method into "+this.getClass().$name)},send:function(data){throw new System.Exception("Implement this method into "+this.getClass().$name)},close:function(code,reason){throw new System.Exception("Implement this method into "+this.getClass().$name)}});if(Environment.isBrowser()){Class("network.WebSocketClient",{"$extends":"System.network.BaseClient","$static":{getURLSchema:function(secure){return(secure?"wss://":"ws://")}},constructor:function(config){this.$super(config.url,config.protocol);var self=this;if("WebSocket" in $global){try{var connection=new WebSocket(this.url,this.protocol);connection.onerror=function(e){self.trigger("error",[e||new System.Exception("Unknown error.")])};connection.onopen=function(e){self.trigger("open",[e])};connection.onmessage=function(e){self.trigger("message",[e])};connection.onclose=function(e){self.trigger("close",[apply(e,{code:this.code,reason:this.reason})])};this.agent=connection}catch(e){self.trigger("error",[e||new System.Exception("Unknown error.")])}}else{throw new System.exception.UnsupportedWebSocketException()}},getReadyState:function(){return this.agent?this.agent.readyState:0},send:function(data){try{if(this.agent){this.agent.send(data);return}}catch(e){}throw new System.exception.InvalidStateException("Cannot perform send while the connection is not open.")},close:function(code,reason){try{if(this.agent){this.agent.code=code;this.agent.reason=reason;this.agent.close(code,reason);return}}catch(e){throw e||new System.exception.InvalidStateException("Cannot perform close while the connection is not open.")}}})}function Enumerator(){var classpath=arguments[0],definition=arguments[1],def=apply(isArray(definition)?[]:{},definition),$enum;if(this.is(Enumerator)){if(arguments.callee.caller==Enumerator){var context=this,CustomType=eval("CustomType = function "+classpath+"(/*[Enumerator]*/){ return context; }"),values="$values" in def?def["$values"]:def||[];delete def["$values"];$enum=(function(){var func;eval("func = function "+classpath+"(/*[Enumerator]*/){}");return func})();define($enum,context);$enum.values=[];if(isArray(values)){$enum.keys=values;values.each(function(val,i){$enum[val]=i;$enum.values.push(i)})}else{if(!isFunction(values)&&isObject(values)){$enum.keys=[];for(var i in values){if(values.hasOwnProperty(i)){if(!isFunction(values[i])){$enum.keys.push(i);$enum.values.push(values[i])}$enum[i]=values[i]}}}}Member.call($enum.prototype,classpath,undefined,Interface);$enum=apply($enum,this,clsMembers);var cleanDef=removeKeyWords(def);apply($enum.prototype,cleanDef,{"$class":$enum,"$def":cleanDef});return $enum}}else{if(classpath&&classpath.is(String)){if(arguments.length>2){throw new System.exception.InvalidArgumentsException("Invalid arguments number, expected 1 or 2")}var ns=new Namespace(classpath,def["$container"]),name=ns.getName(),container=ns.getParent();delete def["$container"];try{$enum=new Enumerator(name,def);return Member.register(container.addMember($enum))}catch(e){var unresolved=[];switch(e.name){case"UnresolvedSuperClassException":if("$extends" in definition){unresolved.push(definition["$extends"])}var builderTemp=new Member.BuilderTemp(name,e);Loader.observe(unresolved,function(error){if(!error){var cls=Interface(classpath,definition);return builderTemp.onBuild(cls)}});return builderTemp;default:throw e}}}throw new Exception("Invalid arguments provided, expected (String[, Object]).","InvalidArgumentsException")}throw new System.exception.IllegalCallException("Cannot explicitly create Interface instances.")}Loader.register($root+".reflection.Enumerator",define(Enumerator,Member,{contains:function(val){return this.valueOf(val)!=undefined},valueOf:function(val){if(this.keys){for(var i in this){if(!isFunction(this[i])&&this[i]==val){return this[i]}}}}}));Loader.register($root+".Enum",function(){return Enumerator.apply(arguments.callee,arguments)});function Interface(){var classpath=arguments[0],definition=arguments[1],def=apply({},definition),$iface;if(this.is(Interface)){if(arguments.callee.caller==Interface){var context=this,CustomType=eval("CustomType = function "+classpath+"(/*[Interface]*/){ return context; }"),base,actions="$actions" in definition?definition["$actions"]:definition||[];if("$extends" in def){switch(typeof def["$extends"]){case"string":def["$extends"]=Loader.using(def["$extends"]);if(!def["$extends"]||!isFunction(def["$extends"])){throw new Exception("The super class definition was unresolved","UnresolvedSuperClassException")}case"function":base=def["$extends"];delete def["$extends"];break;default:throw new Exception("Invalid super type, cannot be an instance of: "+Object.getPrototypeOf(def["$extends"])["constructor"]["name"],"InvalidSuperClassException")}}if(isObject(actions)&&!isArray(actions)){var aux=[];for(var i in actions){if(hasProp(actions,i)&&isFunction(actions[i])){aux.push(i)}}actions=aux}$iface=(function(){var func;eval("func = function "+classpath+"(/*[Interface]*/){}");return func})();if(base){define($iface,new (define(CustomType,base.prototype))(),undefined,{"$superclass":base})}else{define($iface,context)}if(System.isObject(actions)){$iface.$actions=[];for(var i=0,len=actions.length;i<len;i++){if(!isString(actions[i])){throw new System.exception.InvalidArgumentsException("Interface constructor expects method names to be passed in as a string.")}$iface.$actions.push(actions[i])}delete definition["$actions"]}Member.call($iface.prototype,classpath,undefined,Interface);$iface=apply($iface,this,clsMembers);var cleanDef=removeKeyWords(def);apply($iface.prototype,cleanDef,{"$class":$iface,"$def":cleanDef});return $iface}}else{if(classpath&&classpath.is(String)){if(arguments.length>2){throw new System.exception.InvalidArgumentsException("Invalid arguments number, expected 1 or 2")}var ns=new Namespace(classpath,def["$container"]),name=ns.getName(),container=ns.getParent();delete def["$container"];try{$iface=new Interface(name,def);return Member.register(container.addMember($iface))}catch(e){var unresolved=[];switch(e.name){case"UnresolvedSuperClassException":if("$extends" in definition){unresolved.push(definition["$extends"])}var builderTemp=new Member.BuilderTemp(name,e);Loader.observe(unresolved,function(error){if(!error){var cls=Interface(classpath,definition);return builderTemp.onBuild(cls)}});return builderTemp;default:throw e}}}throw new Exception("Invalid arguments provided, expected (String[, Object]).","InvalidArgumentsException")}throw new System.exception.IllegalCallException("Cannot explicitly create Interface instances.")}System.Interface=define(Interface,Member,undefined,{ensureImplements:function($class){if(arguments.length<2){throw new Exception("Interface.ensureImplements was called with "+arguments.length+"arguments, but expected at least 2.","InvalidArgumentsException")}for(var i=1,len=arguments.length;i<len;i++){var $iface=arguments[i];if(!$iface.is(Interface)){throw new Exception("ensureImplements expects the second argument to be an instance of the 'Interface' constructor.","InvalidArgumentsException")}var methods=$iface.$class.getAllMethods();for(var j=0,methodsLen=methods.length;j<methodsLen;j++){var method=methods[j],name=method.getName();if(!(name in $class.prototype)||!isFunction($class.prototype[name])){throw new Exception("'"+$class.getFullPath()+"' does not implement interface member '"+$iface.getFullPath()+"."+method.getSignature()+"'.","NotImplementedException")}}}}});Loader.register($root+".Interface",Interface);Class("reflection.Method",{constructor:function(name,func){Member.call(this,System.reflection.Method);this.getName=function(){return name};this.getSignature=function(){return name+"("+getSignature(func)+")"}}});define(System.reflection.Method,Member);if(Environment.isBrowser()){Static.Class("runtime.BrowserLoader",{"$extends":"System.runtime.Loader",load:function load(dependency,callback,async){async=async||(true===async);var requests;if(dependency){if(dependency.is(Array)){requests=[];var loaded=[];function onLoad(request){loaded.push(request);if(loaded.length==dependency.length){if(callback&&callback.is(Function)){callback(loaded)}}}dependency.each(function(dep){requests.push(System.runtime.BrowserLoader.load(dep,onLoad,async))})}else{if(dependency.is(String)){var script=document.createElement("script"),container=document.getElementsByTagName("head")[0];script.setAttribute("type","text/javascript");script.setAttribute("async",async);System.EventManager.addEventListener(script,"error",function onError(e){System.EventManager.removeEventListener(script,"error",onError);container.removeChild(script);requests=new DependencyRequest(dependency,e);if(callback&&callback.is(Function)){callback(script.querrier)}});if(async){if(System.utils.UserAgent.isIE()){System.EventManager.addEventListener(script,"readystatechange",function onReadyStateChange(){if(script.readyState=="loaded"||script.readyState=="complete"){System.EventManager.removeEventListener(script,"readystatechange",onReadyStateChange);if(callback&&callback.is(Function)){script.querrier.loaded=true;callback(script.querrier)}}})}else{System.EventManager.addEventListener(script,"load",function load(){if(callback&&callback.is(Function)){script.querrier.loaded=true;callback(script.querrier)}})}}var sourcesSet=System.Router.getSourcesSet();var baseDir=System.Router.getBaseDir();for(var i=0;i<sourcesSet.length;i++){try{var dep=dependency;if(validIdientifierRegex.test(dep)){dep=baseDir+sourcesSet[i]+dep.replaceAll(".","/")+".js"}script.setAttribute("src",dep);requests=new DependencyRequest(dependency,container.appendChild(script));script.querrier=requests;break}catch(e){requests=new DependencyRequest(dependency,e)}}}}}return requests}})}if(Environment.isNode()){Static.Class("runtime.NodeLoader",{load:function load(dependency,callback){var requests;if(dependency){if(dependency.is(Array)){requests=[];dependency.each(function(dep){requests.push(load(dep))})}else{if(dependency.is(String)){var path=require("path");var sourcesSet=System.Router.getSourcesSet();var baseDir=System.Router.getBaseDir();for(var i=0;i<sourcesSet.length;i++){try{var dep=dependency;if(validIdientifierRegex.test(dep)){dep=path.normalize(baseDir+"/"+sourcesSet[i]+dep.replaceAll(".","/"))}requests=new DependencyRequest(dependency,require(dep));requests.loaded=true;break}catch(e){requests=new DependencyRequest(dependency,e)}}}else{if(dependency.is(Object)){try{requests=new DependencyRequest(dependency.member,require(dependency.pkg));requests.combined=true;requests.loaded=true}catch(e){throw new System.exception.RuntimeException(e.message)}}}}if(callback&&callback.is(Function)){callback(requests)}}return requests}})}Static.Class("runtime.serialization.json.JXONParser",{sValProp:"keyValue",sAttrProp:"keyAttributes",sAttrsPref:"@",aCache:[],parseText:function parseText(sValue){if(isNullValue(sValue)){return null}if(isBooleanValue(sValue)){return sValue.toLowerCase()==="true"}if(isFinite(sValue)){return parseFloat(sValue)}if(isFinite(Date.parse(sValue))){return new Date(sValue)}return sValue},createObjTree:function createObjTree(oParentNode,nVerb,bFreeze,bNesteAttr){function objectify(vVal){return vVal===null?new System.runtime.serialization.json.JXONTree():vVal instanceof Object?vVal:new vVal.constructor(vVal)}var nLevelStart=this.aCache.length,bChildren=oParentNode.hasChildNodes(),bAttributes=oParentNode.hasAttributes&&oParentNode.hasAttributes(),bHighVerb=Boolean(nVerb&2);var sProp,vContent,nLength=0,sCollectedTxt="",vResult=bHighVerb?{}:true;if(bChildren){for(var oNode,nItem=0;nItem<oParentNode.childNodes.length;nItem++){oNode=oParentNode.childNodes.item(nItem);if(oNode.nodeType===4){sCollectedTxt+=oNode.nodeValue}else{if(oNode.nodeType===3){sCollectedTxt+=oNode.nodeValue.trim()}else{if(oNode.nodeType===1&&!oNode.prefix){this.aCache.push(oNode)}}}}}var nLevelEnd=this.aCache.length,vBuiltVal=this.parseText(sCollectedTxt);if(!bHighVerb&&(bChildren||bAttributes)){vResult=nVerb===0?objectify(vBuiltVal):{}}for(var nElId=nLevelStart;nElId<nLevelEnd;nElId++){sProp=this.aCache[nElId].nodeName.toLowerCase();vContent=this.createObjTree(this.aCache[nElId],nVerb,bFreeze,bNesteAttr);if(vResult.hasOwnProperty(sProp)){if(vResult[sProp].constructor!==Array){vResult[sProp]=[vResult[sProp]]}vResult[sProp].push(vContent)}else{vResult[sProp]=vContent;nLength++}}if(bAttributes){var nAttrLen=oParentNode.attributes.length,sAPrefix=bNesteAttr?"":this.sAttrsPref,oAttrParent=bNesteAttr?{}:vResult;for(var oAttrib,nAttrib=0;nAttrib<nAttrLen;nLength++,nAttrib++){oAttrib=oParentNode.attributes.item(nAttrib);oAttrParent[sAPrefix+oAttrib.name.toLowerCase()]=this.parseText(oAttrib.value.trim())}if(bNesteAttr){if(bFreeze){Object.freeze(oAttrParent)}vResult[this.sAttrProp]=oAttrParent;nLength-=nAttrLen-1}}if(nVerb===3||(nVerb===2||nVerb===1&&nLength>0)&&sCollectedTxt){vResult[this.sValProp]=vBuiltVal}else{if(!bHighVerb&&nLength===0&&sCollectedTxt){vResult=vBuiltVal}}if(bFreeze&&(bHighVerb||nLength>0)){Object.freeze(vResult)}this.aCache.length=nLevelStart;return vResult},loadObjTree:function loadObjTree(oXMLDoc,oParentEl,oParentObj){var vValue,oChild;if(oParentObj.constructor===String||oParentObj.constructor===Number||oParentObj.constructor===Boolean){oParentEl.appendChild(oXMLDoc.createTextNode(oParentObj.toString()));if(oParentObj===oParentObj.valueOf()){return}}else{if(oParentObj.constructor===Date){oParentEl.appendChild(oXMLDoc.createTextNode(oParentObj.toGMTString()))}}for(var sName in oParentObj){vValue=oParentObj[sName];if(isFinite(sName)||vValue instanceof Function){continue}if(sName===this.sValProp){if(vValue!==null&&vValue!==true){oParentEl.appendChild(oXMLDoc.createTextNode(vValue.constructor===Date?vValue.toGMTString():String(vValue)))}}else{if(sName===this.sAttrProp){for(var sAttrib in vValue){oParentEl.setAttribute(sAttrib,vValue[sAttrib])}}else{if(sName.charAt(0)===this.sAttrsPref){oParentEl.setAttribute(sName.slice(1),vValue)}else{if(vValue.constructor===Array){for(var nItem=0;nItem<vValue.length;nItem++){oChild=oXMLDoc.createElement(sName);this.loadObjTree(oXMLDoc,oChild,vValue[nItem]);oParentEl.appendChild(oChild)}}else{oChild=oXMLDoc.createElement(sName);if(vValue instanceof Object){this.loadObjTree(oXMLDoc,oChild,vValue)}else{if(vValue!==null&&vValue!==true){oChild.appendChild(oXMLDoc.createTextNode(vValue.toString()))}}oParentEl.appendChild(oChild)}}}}}},fromXML:function(oXMLParent,nVerbosity,bFreeze,bNesteAttributes){try{var nVerbMask=arguments.length>1&&typeof nVerbosity==="number"?nVerbosity&3:1;return this.createObjTree(oXMLParent,nVerbMask,bFreeze||false,arguments.length>3?bNesteAttributes:nVerbMask===3)}catch(e){throw new System.exception.XMLException()}},toXML:function(oObjTree,sNamespaceURI,sQualifiedName,oDocumentType){try{var oNewDoc=document.implementation.createDocument(sNamespaceURI||null,sQualifiedName||"",oDocumentType||null);loadObjTree(oNewDoc,oNewDoc,oObjTree);return oNewDoc}catch(e){throw new System.exception.XMLException()}}});Class("runtime.serialization.json.JXONTree",{toString:function(){return"null"},valueOf:function(){return null},appendJXON:function(oObjTree){System.runtime.serialization.json.JXONParser.loadObjTree(document,this,oObjTree);return this}});Class("exception.XMLException",{"$extends":System.Exception,constructor:function(message){this.$super(message||"Error during the XML transformation process.")}});if(Environment.isBrowser()){Static.Class("runtime.serialization.xml.XMLParser",{stringToXML:function(sValue){try{var xmlDoc;if($global.DOMParser){xmlDoc=(new DOMParser()).parseFromString(sValue,"text/xml")}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(sValue)}return xmlDoc}catch(e){throw new System.exception.XMLException("Unable to parse source string to xml object.")}}})}Static.Class("security.cryptography.Base64Transform",{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=this._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else{if(isNaN(i)){a=64}}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=this._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else{if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else{if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}}return t}});Static.Class("utils.Assert",{assert:function(){if($global.console&&$global.console.assert){$global.console.assert(arguments[0],arguments[1],arguments[2])}}});Static.Class("utils.Executor",{apply:function(callback,args){if(callback){if(System.isFunction(callback)){args=System.isArray(args)?args:[];callback.apply(callback,args)}else{throw new System.Exception("Cannot execute object that is not a function","ExecutorException")}}},schedule:function(callback,repeat,interval){if(!(System.isFunction(callback))||repeat<0||interval<0){throw new System.exception.InvalidArgumentsException()}var e={cancelled:false,stop:function(){e.cancelled=true}};var creator=setInterval(function(){if(--repeat<0||e.cancelled){clearInterval(creator);return}callback(e)},interval)}});Static.Class("utils.Log",{"$extends":"System.utils.Assert",debug:function(){if(CONFIG.DEBUG===true){if($global.console&&$global.console.debug){$global.console.debug(arguments[0])}}},info:function(){if(CONFIG.DEBUG===true){if($global.console&&$global.console.info){$global.console.info(arguments[0])}}},log:function(){if(CONFIG.DEBUG===true){if($global.console&&$global.console.log){$global.console.log(arguments[0])}}},error:function(){if(CONFIG.DEBUG===true){if($global.console&&$global.console.error){$global.console.error(arguments[0])}}},warn:function(){if(CONFIG.DEBUG===true){if($global.console&&$global.console.warn){$global.console.warn(arguments[0])}}},assert:function(){if(CONFIG.DEBUG===true){this.$superclass.assert.apply(this,arguments)}},makeError:function(id,msg,err,requireModules){var e=new System.Exception(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.innerException=err}return e}});if(isBrowser()){Static.Class("utils.UserAgent",userAgent)}System.disableAutoLoad(false);var __init__callbacks=[];System.noConflict=function(force){var res=System;if($original||force===true){$global[$root]=$original}return res};System.ready=function(){if(arguments.length>0){var listener=arguments[0],fireOnReady=Environment.isBrowser()?false:arguments[1]===true;if(isFunction(listener)){if(fireOnReady===false){listener.call($global,System)}else{__init__callbacks.push(listener)}}else{throw new System.exception.InvalidArgumentsException("Supplied arguments are invalid, expected (Function/Boolean)")}}};if(Environment.isBrowser()){document.onreadystatechange=function(){if(document.readyState=="complete"){for(var c in __init__callbacks){if(hasProp(__init__callbacks,c)){__init__callbacks[c].call($global,System)}}}}}delete (xt=undefined);$global[$root]=System;if(Environment.isNode()){module.exports=System}System.setGlobal($global);System.getLoadTime=function(){return stime-(new Date().getMilliseconds())}})(this);